/* 
	Bands2021.sql
	Eric J. Schwabe
	October 4th, 2021

	Script to set up BAND, PLAYER, VENUE, SHOW tables
	for CSC 355 Assignment 4
	For use in assignment only -- do not copy, post or distribute...
*/

DROP TABLE SHOW CASCADE CONSTRAINTS;
DROP TABLE VENUE CASCADE CONSTRAINTS;
DROP TABLE PLAYER CASCADE CONSTRAINTS;
DROP TABLE BAND CASCADE CONSTRAINTS;
CREATE TABLE BAND
(
	BID		NUMBER(2)		PRIMARY KEY,
	BName		VARCHAR(30),
	Style		VARCHAR(20)
);
CREATE TABLE PLAYER
(
	PID		CHAR(4)		PRIMARY KEY,
	PName		VARCHAR(20),
	Instrument	VARCHAR(20),
	Age		NUMBER(2,0)	CHECK (Age > 0),
	BandID	 	NUMBER(2)	REFERENCES BAND(BID)
);
CREATE TABLE VENUE
(
	VID		CHAR(3)		PRIMARY KEY,
	VName		VARCHAR(30),
	Capacity	NUMBER(5)	CHECK (Capacity >0),
	City		VARCHAR(20)
);
CREATE TABLE SHOW
(
	BandID		NUMBER(2)	REFERENCES BAND(BID),
	VenueID		CHAR(3)		REFERENCES VENUE(VID),
	ShowDate	DATE,
	Payment		NUMBER(8,2)	CHECK (Payment >= 0),
	TicketPrice	NUMBER(6,2)	CHECK (TicketPrice >= 0),
	PRIMARY KEY (BandID, VenueID, ShowDate)
);
INSERT INTO BAND VALUES (55, 'Rock Shop', 'Rock');
INSERT INTO BAND VALUES (66, 'The NoNos', 'Pop');
INSERT INTO BAND VALUES (77, 'World Beats', 'Reggae');
INSERT INTO BAND VALUES (88, 'The Nobody Specials', 'Rock');
INSERT INTO PLAYER VALUES ('W001', 'Watson', 'Drums', 28, 55);
INSERT INTO PLAYER VALUES ('W023', 'Wu', 'Guitar', 25, 55);
INSERT INTO PLAYER VALUES ('E177', 'El Fadil', 'Bass', 26, 55);
INSERT INTO PLAYER VALUES ('C020', 'Carlson', 'Vocals', 22, 66);
INSERT INTO PLAYER VALUES ('R801', 'Rivera', 'Guitar', 30, 66);
INSERT INTO PLAYER VALUES ('H232', 'Harley', 'Guitar', 21, 77);
INSERT INTO PLAYER VALUES ('S004', 'St. John', 'Bass', 20, 77);
INSERT INTO PLAYER VALUES ('S005', 'Smythe', 'Vocals', 24, 77);
INSERT INTO PLAYER VALUES ('S901', 'Solomon', 'Drums', 24, 77);
INSERT INTO PLAYER VALUES ('A000', 'Anonymous', 'Vocals', 40, 88);
INSERT INTO VENUE VALUES ('CB1', 'City Bar', 250, 'Chicago');
INSERT INTO VENUE VALUES ('SS1', 'Suburban Station', 100, 'Schaumburg');
INSERT INTO VENUE VALUES ('RT2', 'Reggae Town', 200, 'Chicago');
INSERT INTO VENUE VALUES ('OT3', 'Oak Tavern', 80, 'Oak Park');
INSERT INTO SHOW VALUES (77, 'RT2', DATE '2021-07-28', 2700.00, 30.00);
INSERT INTO SHOW VALUES (66, 'CB1', DATE '2021-07-12', 3500.00, 40.00);
INSERT INTO SHOW VALUES (66, 'CB1', DATE '2021-07-13', 3500.00, 40.00);
INSERT INTO SHOW VALUES (66, 'SS1', DATE '2021-08-28', 2000.00, 35.00);
INSERT INTO SHOW VALUES (66, 'SS1', DATE '2021-08-29', 2000.00, 35.00);
INSERT INTO SHOW VALUES (77, 'SS1', DATE '2021-09-10', 2000.00, 30.00);
INSERT INTO SHOW VALUES (55, 'CB1', DATE '2021-06-01', 1000.00, 20.00);
INSERT INTO SHOW VALUES (55, 'CB1', DATE '2021-06-02', 1000.00, 20.00);
INSERT INTO SHOW VALUES (55, 'SS1', DATE '2021-06-20', 1000.00, 25.00);
SELECT * FROM BAND;
SELECT * FROM PLAYER;
SELECT * FROM VENUE;
SELECT * FROM SHOW;
COMMIT;
