/*
	Bookstores2021.sql
	Eric J. Schwabe
	September 27th, 2021

	Script to set up TEXTBOOK, BOOKSTORE, ORDERTABLE tables
	for CSC 355 Assignment 3
	For use in assignment only -- do not copy...
*/

set pagesize 25;

-- drop tables
DROP TABLE ORDERTABLE CASCADE CONSTRAINTS;
DROP TABLE TEXTBOOK CASCADE CONSTRAINTS;
DROP TABLE BOOKSTORE CASCADE CONSTRAINTS;
-- create and link tables
CREATE TABLE BOOKSTORE
(
	ID		INTEGER,
	School		VARCHAR2(40),
	City		VARCHAR2(20),
	State		CHAR(2),
	Zip		CHAR(5),
	CONSTRAINT PK_BOOKSTORE
		PRIMARY KEY (ID)
);
CREATE TABLE TEXTBOOK
(
	ID		CHAR(5),
	Title		VARCHAR2(30),
	Author		VARCHAR2(30),
	Subject		VARCHAR2(20),
	Price		NUMBER(5,2),
	CONSTRAINT PK_TEXTBOOK
		PRIMARY KEY (ID)
);
CREATE TABLE ORDERTABLE
(	OrderID		CHAR(6),
	OrderDate	DATE,
	BookstoreID	INTEGER,
	TextbookID	CHAR(5),
	Amount		NUMBER(3)	
			CHECK (Amount >= 1),
	CONSTRAINT PK_ORDERTABLE
		PRIMARY KEY (OrderID),
	CONSTRAINT FK_ORDERTABLE_BOOKSTORE
		FOREIGN KEY (BookstoreID)
		REFERENCES BOOKSTORE(ID),
	CONSTRAINT FK_ORDERTABLE_TEXTBOOK
		FOREIGN KEY (TextbookID)
		REFERENCES TEXTBOOK(ID)
);
-- populate tables
INSERT INTO BOOKSTORE VALUES
	(1, 'DePaul University', 'Chicago', 'IL', '60604');
INSERT INTO BOOKSTORE VALUES
	(2, 'University of Illinois', 'Champaign', 'IL', '61824');
INSERT INTO BOOKSTORE VALUES
	(3, 'Elmhurst College', 'Elmhurst', 'IL', '60106');
INSERT INTO BOOKSTORE VALUES
	(4, 'College of DuPage', 'Glen Ellyn', 'IL', '60137');
INSERT INTO BOOKSTORE VALUES
	(5, 'College of Lake County', 'Grayslake', 'IL', '60030');
INSERT INTO BOOKSTORE VALUES
	(6, 'University of Michigan', 'Ann Arbor', 'MI', '48106');
INSERT INTO BOOKSTORE VALUES
	(7, 'Michigan State University', 'East Lansing', 'MI', '48825');
INSERT INTO BOOKSTORE VALUES
	(8, 'Purdue University Northwest', 'Hammond', 'IN', '46323');
INSERT INTO BOOKSTORE VALUES
	(9, 'American College of Education', 'Indianapolis', 'IN', '46113');
INSERT INTO TEXTBOOK VALUES
	('04115', 'Python Programming', 'Vandemeer', 'Computer Science', 57.99);	
INSERT INTO TEXTBOOK VALUES
	('04093', 'Data Structures', 'Vandemeer', 'Computer Science', 49.99);	
INSERT INTO TEXTBOOK VALUES
	('04107', 'Databases For Everyone', 'Vandemeer', 'Computer Science', 90.99);	
INSERT INTO TEXTBOOK VALUES
	('11160', 'Basic Python', 'Moore', 'Computer Science', 45.99);
INSERT INTO TEXTBOOK VALUES
	('13570', 'Discrete Mathematics', 'Moore', 'Mathematics', 59.99);
INSERT INTO TEXTBOOK OK VALUES
	('12515', 'Statistics I', 'Moore', 'Mathematics', 69.99);
INSERT INTO TEXTBOOK VALUES
	('62315', 'Intro to Discrete Math', 'Robinson', 'Mathematics', 82.99);	
INSERT INTO TEXTBOOK VALUES
	('98116', 'Physics for Mathematicians', 'Robinson', 'Physics', 69.99);
INSERT INTO TEXTBOOK VALUES
	('37658', 'Introduction to Mechanics', 'Vandemeer', 'Physics', 49.99);
INSERT INTO TEXTBOOK VALUES
	('44444', 'Combinatorics', 'Pascal', 'Mathematics', 39.99);
INSERT INTO ORDERTABLE VALUES
	('100011', DATE '2019-07-30', 8, '11160', 20);
INSERT INTO ORDERTABLE VALUES
	('100012', DATE '2019-07-30', 8, '04115', 10);
INSERT INTO ORDERTABLE VALUES
	('100013', DATE '2019-07-30', 8, '04107', 10);
INSERT INTO ORDERTABLE VALUES
	('100021', DATE '2019-07-30', 5, '04093', 30);
INSERT INTO ORDERTABLE VALUES
	('100031', DATE '2019-09-28', 9, '04093', 40);
INSERT INTO ORDERTABLE VALUES
	('100041', DATE '2019-11-15', 1, '62315', 10);
INSERT INTO ORDERTABLE VALUES
	('100042', DATE '2019-11-15', 1, '04107', 10);
INSERT INTO ORDERTABLE VALUES
	('100051', DATE '2020-02-03', 7, '04107', 40);
INSERT INTO ORDERTABLE VALUES
	('100061', DATE '2020-02-03', 4, '04107', 20);
INSERT INTO ORDERTABLE VALUES
	('100062', DATE '2020-02-03', 4, '04093', 20);
INSERT INTO ORDERTABLE VALUES
	('100063', DATE '2020-02-03', 4, '04115', 20);
INSERT INTO ORDERTABLE VALUES
	('100071', DATE '2020-04-04', 1, '11160', 40);
INSERT INTO ORDERTABLE VALUES
	('100072', DATE '2020-04-04', 1, '04115', 40);
INSERT INTO ORDERTABLE VALUES
	('100081', DATE '2020-06-01', 7, '04093', 10);
INSERT INTO ORDERTABLE VALUES
	('100082', DATE '2020-06-01', 7, '62315', 10);
INSERT INTO ORDERTABLE VALUES
	('100101', DATE '2020-06-01', 1, '04107', 30);
INSERT INTO ORDERTABLE VALUES
	('100102', DATE '2020-06-01', 1, '13570', 40);
INSERT INTO ORDERTABLE VALUES
	('100111', DATE '2021-02-15', 9, '62315', 30);
INSERT INTO ORDERTABLE VALUES
	('100121', DATE '2021-02-15', 1, '11160', 10);
INSERT INTO ORDERTABLE VALUES
	('100131', DATE '2021-02-15', 4, '04115', 20);
INSERT INTO ORDERTABLE VALUES
	('100132', DATE '2021-02-15', 4, '98116', 10);
-- display tables
SELECT * FROM TEXTBOOK;
SELECT * FROM BOOKSTORE;
SELECT * FROM ORDERTABLE;
COMMIT;
